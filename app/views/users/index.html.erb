<div class="row">
  <div class="col-lg-2"></div>

  <div class="col-lg-8">
    <h1 class="text-center">Users</h1>

    <ul class="nav nav-tabs">
      <li class="nav-item">
        <%= link_to "Unapproved", users_path(approved: false), class: "nav-link #{params[:approved] == 'false' ? 'active' : ''}" %>
      </li>
      <li class="nav-item">
        <%= link_to "Approved", users_path(approved: true), class: "nav-link #{params[:approved] == 'true' ? 'active' : ''}" %>
      </li>
    </ul>

    <table class="table table-striped mt-5">
      <thead>
        <tr>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Sign up date</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.first_name %></td>
            <td><%= user.last_name %></td>
            <td><%= user.email %></td>
            <td><%= user.created_at %></td>
            <% if params[:approved] == 'false' %>
              <td><%= link_to "Approve User", approve_as_admin_path(user.id), method: :post, class: "btn btn-warning" %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <div class="col-lg-2"></div>
</div>
